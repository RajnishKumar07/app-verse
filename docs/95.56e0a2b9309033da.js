"use strict";(self.webpackChunkjobster=self.webpackChunkjobster||[]).push([[95],{4095:(E,m,i)=>{i.r(m),i.d(m,{default:()=>v});var l=i(6814),n=i(95),c=i(1730),d=i(5438),o=i(9468),_=i(9862),g=i(5379),p=i(5749);function f(t,a){if(1&t&&o._UZ(0,"error",21),2&t){const e=o.oxw();o.Q6J("control",e.loginForm.controls.username)("fieldName","username")}}function h(t,a){if(1&t&&o._UZ(0,"error",21),2&t){const e=o.oxw();o.Q6J("control",e.loginForm.controls.password)("fieldName","password")}}let v=(()=>{class t{constructor(e,r,s,u){this.fb=e,this.httpClient=r,this.tokenService=s,this.coreService=u,this.showPassword=!1,this.isSubmited=!1,this.initializeLoginForm()}ngOnInit(){}loginFn(){if(this.isSubmited=!0,this.loginForm.valid){const{username:e,password:r}=this.loginForm.value;this.httpClient.post("/auth/login",{email:e,password:r}).subscribe({next:s=>{s.user&&this.coreService.user.set(s.user),s.token&&(this.tokenService.setToken(s),this.coreService.navigateTo(["/"]),this.coreService.showToast("success","Login successfully!!"))},error:s=>{s?.error?.msg||this.coreService.showToast("error",s?.error?.msg)}})}}initializeLoginForm(){this.loginForm=this.fb.group({username:["",n.kI.required],password:["",n.kI.required]})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.qu),o.Y36(_.eN),o.Y36(g.B),o.Y36(p.p))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-verse-login"]],standalone:!0,features:[o.jDz],decls:32,vars:5,consts:[[1,"container"],[1,"row","justify-content-center","align-items-center","vh-100"],[1,"col-12","col-md-10","col-lg-4"],[3,"formGroup","ngSubmit"],[1,"card","shadow-lg"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["for","username"],[1,"input-group"],["id","basic-addon1",1,"input-group-text"],["aria-hidden","true",1,"fa","fa-user"],["id","username","type","text","placeholder","Email","formControlName","username",1,"form-control","form-control-lg"],[3,"control","fieldName",4,"ngIf"],["for","password"],["aria-hidden","true",1,"fa","fa-lock"],["id","password","placeholder","Password","formControlName","password",1,"form-control","form-control-lg",3,"type"],["aria-hidden","true","role","button",1,"password-icon","fa",3,"ngClass","click"],[1,"my-4","text-center"],["type","submit",1,"btn","btn-outline-primary","w-100"],["routerLink","/register",1,"nav-link","text-primary","fs-5","mt-3"],[3,"control","fieldName"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),o.NdJ("ngSubmit",function(){return r.loginFn()}),o.TgZ(4,"div",4)(5,"div",5)(6,"h3"),o._uU(7,"Log in to Jobster"),o.qZA()(),o.TgZ(8,"div",6)(9,"div",7)(10,"label",8),o._uU(11,"Email"),o.qZA(),o.TgZ(12,"div",9)(13,"span",10),o._UZ(14,"i",11),o.qZA(),o._UZ(15,"input",12),o.qZA(),o.YNc(16,f,1,2,"error",13),o.qZA(),o.TgZ(17,"div",7)(18,"label",14),o._uU(19,"Password"),o.qZA(),o.TgZ(20,"div",9)(21,"span",10),o._UZ(22,"i",15),o.qZA(),o._UZ(23,"input",16),o.TgZ(24,"i",17),o.NdJ("click",function(){return r.showPassword=!r.showPassword}),o.qZA()(),o.YNc(25,h,1,2,"error",13),o.qZA(),o.TgZ(26,"div",18)(27,"div")(28,"button",19),o._uU(29," Login "),o.qZA()(),o.TgZ(30,"a",20),o._uU(31," Sign up for Jobster"),o.qZA()()()()()()()()),2&e&&(o.xp6(3),o.Q6J("formGroup",r.loginForm),o.xp6(13),o.Q6J("ngIf",r.isSubmited),o.xp6(7),o.Q6J("type",r.showPassword?"text":"password"),o.xp6(1),o.Q6J("ngClass",r.showPassword?"fa-eye":"fa-eye-slash"),o.xp6(1),o.Q6J("ngIf",r.isSubmited))},dependencies:[l.ez,l.mk,l.O5,n.u5,n._Y,n.Fj,n.JJ,n.JL,n.UX,n.sg,n.u,c.Bz,c.rH,d.q],encapsulation:2}),t})()}}]);